{

    "info" : {
        "type" : "conda",
        "environment": "biohub.fastp"
    },

    "build": [
        "mamba create -y -p ->eval##self.environment<- fastp"
    ],

    "implementation" : {

        "defaultRoute": "paired",

        "commands": [
            {
                "route": "common",
                "command": "fastp"
            }
        ],

        "sentences": {

            "body" : [
                {
                    "route" : "common",
                    "sentences" : ["<command> <options> <inputs> <outputs>"]
                }
            ]

        }
    },

    "options": [

        {
            "route": "common",
            "role": "threads",
            "name": "--thread",
            "altName": "-w"
        },

        {
            "route": "common",
            "role": "minimum quality",
            "name": "--qualified_quality_phred",
            "altName": "-q",
            "value": 20
        },

        {
            "route": "common",
            "role": "minimum length",
            "name": "--length_required",
            "altName": "-l",
            "value": 40
        }

    ],

    "inputs": [

        {
            "route": "paired",
            "role": "forward",
            "name": "--in1",
            "altName": "-i",
            "selection": [
                {
                    "target": "outlines",
                    "required": ["reads", "forward"],
                    "optimal": ["raw"]
                }
            ]
        },

        {
            "route": "paired",
            "role": "reverse",
            "name": "--in2",
            "altName": "-I",
            "selection": [
                {
                    "target": "outlines",
                    "required": ["reads", "reverse"],
                    "optimal": ["raw"]
                }
            ]
        },

        {
            "route": "single",
            "role": "single",
            "name": "--in1",
            "altName": "-i",
            "selection": [
                {
                    "target": "outlines",
                    "required": ["reads"],
                    "optimal": ["raw"]
                }
            ]
        }

    ],

    "outputs": [

        {
            "route": "paired",
            "role": "forward",
            "name": "--out1",
            "altName": "-o",
            "temporal": "forward.fastq.gz",
            "extension": ".fastq.gz",
            "outlines": ["forward"]
        },

        {
            "route": "paired",
            "role": "reverse",
            "name": "--out2",
            "altName": "-O",
            "temporal": "reverse.fastq.gz",
            "extension": ".fastq.gz",
            "outlines": ["reverse"]
        },

        {
            "route": "single",
            "role": "single",
            "name": "--out1",
            "altName": "-o",
            "temporal": "single.fastq.gz",
            "extension": ".fastq.gz",
            "outlines": ["single"]
        },

        {
            "route": "common",
            "role": "html report",
            "name": "--html",
            "altName": "-h",
            "temporal": "fastp.html",
            "extension": ".html",
            "outlines": ["fastp html report"]
        },

        {
            "route": "common",
            "role": "json report",
            "name": "--json",
            "altName": "-j",
            "temporal": "fastp.json",
            "extension": ".json",
            "outlines": ["fastp json report"]
        }

    ],

    "outlines": [
        {
            "route": "common",
            "output": ["reads"],
            "process": ["reads"]
        }
    ]

}